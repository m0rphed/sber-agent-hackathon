# ğŸ™ï¸ Ğ¦Ğ¸Ñ„Ñ€Ğ¾Ğ²Ğ¾Ğ¹ ĞÑÑĞ¸ÑÑ‚ĞµĞ½Ñ‚ Ğ¡Ğ°Ğ½ĞºÑ‚-ĞŸĞµÑ‚ĞµÑ€Ğ±ÑƒÑ€Ğ³Ğ°

**ĞŸĞ Ğ•Ğ—Ğ•ĞĞ¢ĞĞ¦Ğ˜Ğ¯** Ğ² ĞºĞ¾Ñ€Ğ½ĞµĞ²Ğ¾Ğ¼ ĞºĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³Ğµ ğŸ‘‰ [Ğ“Ğ¾Ñ€Ğ¾Ğ´ÑĞºĞ¾Ğ¹-Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ½Ğ¸Ğº-Ğ¡Ğ±ĞµÑ€.pptx](Ğ“Ğ¾Ñ€Ğ¾Ğ´ÑĞºĞ¾Ğ¹-Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ½Ğ¸Ğº-Ğ¡Ğ±ĞµÑ€.pptx)

> **Sber Agent Hackathon 2025** â€” AI-Ğ°ÑÑĞ¸ÑÑ‚ĞµĞ½Ñ‚ Ğ´Ğ»Ñ Ğ¶Ğ¸Ñ‚ĞµĞ»ĞµĞ¹ Ğ¸ Ğ³Ğ¾ÑÑ‚ĞµĞ¹ Ğ¡Ğ°Ğ½ĞºÑ‚-ĞŸĞµÑ‚ĞµÑ€Ğ±ÑƒÑ€Ğ³Ğ°

[![Python 3.12+](https://img.shields.io/badge/python-3.12+-blue.svg)](https://www.python.org/downloads/)
[![LangGraph](https://img.shields.io/badge/LangGraph-0.2+-green.svg)](https://langchain-ai.github.io/langgraph/)
[![GigaChat](https://img.shields.io/badge/LLM-GigaChat--2--Max-orange.svg)](https://developers.sber.ru/portal/products/gigachat)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

---

## ğŸ“‹ ĞĞ³Ğ»Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ

- [ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°](#-Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°)
- [Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚](#-Ğ±Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹-ÑÑ‚Ğ°Ñ€Ñ‚)
- [UV Workspaces (ĞœĞ¾Ğ½Ğ¾Ñ€ĞµĞ¿Ğ¾)](#-uv-workspaces-Ğ¼Ğ¾Ğ½Ğ¾Ñ€ĞµĞ¿Ğ¾)
- [ĞŸĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ](#-Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ-Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ)
- [Docker](#-docker)
- [Ğ—Ğ°Ğ¿ÑƒÑĞº ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²](#-Ğ·Ğ°Ğ¿ÑƒÑĞº-ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²)
- [Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°](#-Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°)
- [Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°](#-ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°-Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°)

---

## ğŸ—ï¸ ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Telegram Bot  â”‚     â”‚   MAX/VK Bot    â”‚     â”‚   Streamlit UI  â”‚
â”‚   (aiogram 3)   â”‚     â”‚   (maxapi)      â”‚     â”‚   (Web Chat)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   LangGraph Server     â”‚
                    â”‚   (API Gateway)        â”‚
                    â”‚   Port: 2024           â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼                      â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Supervisor    â”‚   â”‚     Hybrid      â”‚   â”‚      RAG        â”‚
â”‚     Graph       â”‚   â”‚     Graph       â”‚   â”‚     Graph       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                     â”‚                     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚        Tool Layer          â”‚
              â”‚  â€¢ MFC Search              â”‚
              â”‚  â€¢ District Info           â”‚
              â”‚  â€¢ Events/Afisha           â”‚
              â”‚  â€¢ Sport Events            â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼                     â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   GigaChat-2    â”‚   â”‚    ChromaDB     â”‚   â”‚  External APIs  â”‚
â”‚   (LLM)         â”‚   â”‚    (RAG Store)  â”‚   â”‚  (City Data)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ | ĞŸĞ¾Ñ€Ñ‚ | Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸ |
|-----------|----------|------|------------|
| **LangGraph Server** | ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ API, Ğ¾Ñ€ĞºĞµÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ³Ñ€Ğ°Ñ„Ğ¾Ğ² | 2024 | LangGraph, FastAPI |
| **Streamlit UI** | Ğ’ĞµĞ±-Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Ñ‡Ğ°Ñ‚Ğ° | 8501 | Streamlit |
| **Telegram Bot** | Ğ‘Ğ¾Ñ‚ Ğ´Ğ»Ñ Telegram | â€” | aiogram 3.22+ |
| **MAX Bot** | Ğ‘Ğ¾Ñ‚ Ğ´Ğ»Ñ MAX/VK Teams | â€” | maxapi 0.9.9 |

---

## ğŸš€ Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚

### Ğ¢Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

- Python 3.12+
- [uv](https://docs.astral.sh/uv/) â€” ÑĞ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¼ĞµĞ½ĞµĞ´Ğ¶ĞµÑ€ Ğ¿Ğ°ĞºĞµÑ‚Ğ¾Ğ²

### Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° uv

```powershell
# Windows (PowerShell)
irm https://astral.sh/uv/install.ps1 | iex

# Linux/macOS
curl -LsSf https://astral.sh/uv/install.sh | sh
```

### ĞšĞ»Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞº

```powershell
# ĞšĞ»Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ¹
git clone https://github.com/m0rphed/sber-agent-hackathon.git
cd sber-agent-hackathon

# Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ .env Ñ„Ğ°Ğ¹Ğ» (ÑĞ¼. Ñ€Ğ°Ğ·Ğ´ĞµĞ» "ĞŸĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ")
cp .env.example .env

# Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ LangGraph Server
uv sync
uv run langgraph dev
```

---

## ğŸ“¦ UV Workspaces (ĞœĞ¾Ğ½Ğ¾Ñ€ĞµĞ¿Ğ¾)

> **ĞŸĞ»Ğ°Ğ½Ğ¸Ñ€ÑƒĞµĞ¼Ğ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°** â€” Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´ Ğ½Ğ° uv workspaces Ğ´Ğ»Ñ Ğ¸Ğ·Ğ¾Ğ»ÑÑ†Ğ¸Ğ¸ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²

```
sber-agent-hackathon/
â”œâ”€â”€ pyproject.toml              # ĞšĞ¾Ñ€Ğ½ĞµĞ²Ğ¾Ğ¹ workspace
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ langgraph-app/          # LangGraph Server + Agent
â”‚   â”‚   â”œâ”€â”€ pyproject.toml
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â””â”€â”€ langgraph_app/
â”‚   â”‚           â”œâ”€â”€ agent/
â”‚   â”‚           â”œâ”€â”€ graphs/
â”‚   â”‚           â””â”€â”€ tools/
â”‚   â”‚
â”‚   â”œâ”€â”€ streamlit-ui/           # Web UI
â”‚   â”‚   â”œâ”€â”€ pyproject.toml
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â””â”€â”€ streamlit_ui/
â”‚   â”‚
â”‚   â”œâ”€â”€ bot-telegram/           # Telegram Bot
â”‚   â”‚   â”œâ”€â”€ pyproject.toml
â”‚   â”‚   â””â”€â”€ src/
â”‚   â”‚       â””â”€â”€ bot_telegram/
â”‚   â”‚
â”‚   â””â”€â”€ bot-max/                # MAX/VK Teams Bot
â”‚       â”œâ”€â”€ pyproject.toml
â”‚       â””â”€â”€ src/
â”‚           â””â”€â”€ bot_max/
â”‚
â”œâ”€â”€ libs/
â”‚   â””â”€â”€ shared/                 # ĞĞ±Ñ‰Ğ¸Ğµ ÑƒÑ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹
â”‚       â”œâ”€â”€ pyproject.toml
â”‚       â””â”€â”€ src/
â”‚           â””â”€â”€ shared/
â”‚               â”œâ”€â”€ config.py
â”‚               â””â”€â”€ schemas.py
â”‚
â””â”€â”€ docker/
    â”œâ”€â”€ langgraph-app.Dockerfile
    â”œâ”€â”€ streamlit-ui.Dockerfile
    â”œâ”€â”€ bot-telegram.Dockerfile
    â””â”€â”€ bot-max.Dockerfile
```

### ĞšĞ¾Ñ€Ğ½ĞµĞ²Ğ¾Ğ¹ pyproject.toml (workspace)

```toml
[project]
name = "sber-agent-hackathon"
version = "0.1.0"
requires-python = ">=3.12"

[tool.uv.workspace]
members = [
    "packages/*",
    "libs/*"
]

[tool.uv.sources]
shared = { workspace = true }
langgraph-app = { workspace = true }
```

---

## ğŸ” ĞŸĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ

Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ¹Ñ‚Ğµ Ñ„Ğ°Ğ¹Ğ» `.env` Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ `.env.example`:

```bash
cp .env.example .env
```

### ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ

```env
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# GigaChat API (Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
GIGACHAT_CREDENTIALS=<your-credentials>
GIGACHAT_SCOPE=GIGACHAT_API_PERS
GIGACHAT_MODEL=GigaChat-2
GIGACHAT_VERIFY_SSL_CERTS=false
EMBEDDINGS_MODEL=EmbeddingsGigaR

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# RAG Configuration
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CHUNK_SIZE=800
CHUNK_OVERLAP=200
TOP_K=5
RAG_USE_QUERY_REWRITING=true
RAG_USE_DOCUMENT_GRADING=true

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# City API ("Ğ¯ Ğ—Ğ´ĞµÑÑŒ Ğ–Ğ¸Ğ²Ñƒ")
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
API_GEO=https://yazzh-geo.gate.petersburg.ru
API_SITE=https://yazzh.gate.petersburg.ru
REGION_ID=78

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Yandex Geocoder API
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
YANDEX_API_KEY=<your-yandex-api-key>

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# LangSmith Observability (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
LANGSMITH_TRACING=true
LANGSMITH_API_KEY=<your-langsmith-key>
LANGSMITH_PROJECT=city-assistant

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# LangGraph Server
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
LANGGRAPH_URL=http://localhost:2024

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ğ‘Ğ¾Ñ‚Ñ‹ (Ñ‚Ğ¾ĞºĞµĞ½Ñ‹)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
TOKEN_TG=<telegram-bot-token>
TOKEN_MAX=<max-bot-token>

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ğ ĞµĞ¶Ğ¸Ğ¼ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
LOG_LEVEL=DEBUG
LOG_FORMAT=console
IS_DEBUG=true
```

### ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ñ…

| ĞŸĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ğ°Ñ | ĞĞ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ°Ñ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------------|--------------|----------|
| `GIGACHAT_CREDENTIALS` | âœ… | Credentials Ğ´Ğ»Ñ GigaChat API |
| `GIGACHAT_SCOPE` | âŒ | Scope API (PERS/CORP/B2B) |
| `GIGACHAT_MODEL` | âŒ | ĞœĞ¾Ğ´ĞµĞ»ÑŒ: GigaChat-2, GigaChat-2-Max |
| `YANDEX_API_KEY` | âš ï¸ | API ĞºĞ»ÑÑ‡ Ğ¯Ğ½Ğ´ĞµĞºÑ.Ğ“ĞµĞ¾ĞºĞ¾Ğ´ĞµÑ€Ğ° |
| `TOKEN_TG` | âš ï¸ | Ğ¢Ğ¾ĞºĞµĞ½ Telegram Ğ±Ğ¾Ñ‚Ğ° |
| `TOKEN_MAX` | âš ï¸ | Ğ¢Ğ¾ĞºĞµĞ½ MAX Ğ±Ğ¾Ñ‚Ğ° |
| `LANGSMITH_API_KEY` | âŒ | API ĞºĞ»ÑÑ‡ LangSmith Ğ´Ğ»Ñ Ñ‚Ñ€ĞµĞ¹ÑĞ¸Ğ½Ğ³Ğ° |

---

## ğŸ³ Docker

### Dockerfile Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ°

#### 1. LangGraph Server (`docker/langgraph-app.Dockerfile`)

```dockerfile
FROM python:3.12-slim

WORKDIR /app

# Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° uv
RUN pip install uv

# ĞšĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹
COPY pyproject.toml uv.lock ./
RUN uv sync --frozen --no-dev

# ĞšĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ĞºĞ¾Ğ´Ğ°
COPY app/ ./app/
COPY langgraph.json ./

# ĞŸĞ¾Ñ€Ñ‚ LangGraph Server
EXPOSE 2024

# Ğ—Ğ°Ğ¿ÑƒÑĞº
CMD ["uv", "run", "langgraph", "up", "--host", "0.0.0.0", "--port", "2024"]
```

#### 2. Streamlit UI (`docker/streamlit-ui.Dockerfile`)

```dockerfile
FROM python:3.12-slim

WORKDIR /app

RUN pip install uv

COPY pyproject.toml uv.lock ./
RUN uv sync --frozen --no-dev

COPY app/ui/ ./app/ui/

EXPOSE 8501

CMD ["uv", "run", "streamlit", "run", "app/ui/streamlit_app.py", \
     "--server.port=8501", "--server.address=0.0.0.0"]
```

#### 3. Telegram Bot (`docker/bot-telegram.Dockerfile`)

```dockerfile
FROM python:3.12-slim

WORKDIR /app

RUN pip install uv

COPY pyproject.toml uv.lock ./
RUN uv sync --frozen --no-dev

COPY app/bots/telegram_bot.py ./app/bots/

CMD ["uv", "run", "python", "-m", "app.bots.telegram_bot"]
```

#### 4. MAX Bot (`docker/bot-max.Dockerfile`)

```dockerfile
FROM python:3.12-slim

WORKDIR /app

RUN pip install uv

COPY pyproject.toml uv.lock ./
RUN uv sync --frozen --no-dev

COPY app/bots/max_bot.py ./app/bots/

CMD ["uv", "run", "python", "-m", "app.bots.max_bot"]
```

### Docker Compose (`docker-compose.yml`)

```yaml
version: "3.9"

services:
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # LangGraph Server (Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ API)
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  langgraph-app:
    build:
      context: .
      dockerfile: docker/langgraph-app.Dockerfile
    container_name: spb-langgraph
    ports:
      - "2024:2024"
    environment:
      - GIGACHAT_CREDENTIALS=${GIGACHAT_CREDENTIALS}
      - GIGACHAT_SCOPE=${GIGACHAT_SCOPE:-GIGACHAT_API_PERS}
      - GIGACHAT_MODEL=${GIGACHAT_MODEL:-GigaChat-2-Max}
      - CHROMA_PERSIST_DIR=/data/chroma
      - LOG_LEVEL=${LOG_LEVEL:-INFO}
    volumes:
      - chroma-data:/data/chroma
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:2024/health"]
      interval: 30s
      timeout: 10s
      retries: 3
    restart: unless-stopped

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # Streamlit Web UI
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  streamlit-ui:
    build:
      context: .
      dockerfile: docker/streamlit-ui.Dockerfile
    container_name: spb-streamlit
    ports:
      - "8501:8501"
    environment:
      - LANGGRAPH_API_URL=http://langgraph-app:2024
    depends_on:
      langgraph-app:
        condition: service_healthy
    restart: unless-stopped

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # Telegram Bot
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  bot-telegram:
    build:
      context: .
      dockerfile: docker/bot-telegram.Dockerfile
    container_name: spb-telegram-bot
    environment:
      - TELEGRAM_BOT_TOKEN=${TELEGRAM_BOT_TOKEN}
      - LANGGRAPH_API_URL=http://langgraph-app:2024
    depends_on:
      langgraph-app:
        condition: service_healthy
    restart: unless-stopped

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # MAX / VK Teams Bot
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  bot-max:
    build:
      context: .
      dockerfile: docker/bot-max.Dockerfile
    container_name: spb-max-bot
    environment:
      - MAX_BOT_TOKEN=${MAX_BOT_TOKEN}
      - LANGGRAPH_API_URL=http://langgraph-app:2024
    depends_on:
      langgraph-app:
        condition: service_healthy
    restart: unless-stopped

volumes:
  chroma-data:
    driver: local
```

### ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Docker

```powershell
# Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ²ÑĞµÑ… Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²
docker compose build

# Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ²ÑĞµÑ… ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²
docker compose up -d

# Ğ—Ğ°Ğ¿ÑƒÑĞº Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ LangGraph + Streamlit
docker compose up -d langgraph-app streamlit-ui

# ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ Ğ»Ğ¾Ğ³Ğ¾Ğ²
docker compose logs -f langgraph-app

# ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ°
docker compose down
```

---

## ğŸ® Ğ—Ğ°Ğ¿ÑƒÑĞº ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²

### Ğ¡ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒÑ UV (Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°)

```powershell
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# LangGraph Server (dev mode Ñ hot-reload)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
uv run langgraph dev

# LangGraph Server (production mode)
uv run langgraph up --host 0.0.0.0 --port 2024

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Streamlit UI
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
uv run streamlit run app/ui/streamlit_app.py --server.port 8501

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Telegram Bot
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
uv run python -m bots.tg.bot_main

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# MAX Bot
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
uv run python -m bots.max.bot_main

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ğ’ÑĞµ Ñ‚ĞµÑÑ‚Ñ‹
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
uv run pytest

# Ğ¢ĞµÑÑ‚Ñ‹ Ñ Ğ¿Ğ¾ĞºÑ€Ñ‹Ñ‚Ğ¸ĞµĞ¼
uv run pytest --cov=app --cov-report=html
```

### ĞŸĞ°Ñ€Ğ°Ğ»Ğ»ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº (dev)

```powershell
# Ğ¢ĞµÑ€Ğ¼Ğ¸Ğ½Ğ°Ğ» 1: LangGraph Server
uv run langgraph dev

# Ğ¢ĞµÑ€Ğ¼Ğ¸Ğ½Ğ°Ğ» 2: Streamlit UI
uv run streamlit run app/ui/streamlit_app.py

# Ğ¢ĞµÑ€Ğ¼Ğ¸Ğ½Ğ°Ğ» 3: Telegram Bot (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
uv run python -m bots.tg.bot_main

# Ğ¢ĞµÑ€Ğ¼Ğ¸Ğ½Ğ°Ğ» 4: MAX Bot (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
uv run python -m bots.max.bot_main
```

---

## ğŸ› ï¸ Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°

### Ğ›Ğ¸Ğ½Ñ‚Ğ¸Ğ½Ğ³ Ğ¸ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

```powershell
# Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (ruff)
uv run ruff format .

# Ğ›Ğ¸Ğ½Ñ‚Ğ¸Ğ½Ğ³
uv run ruff check .

# Ğ›Ğ¸Ğ½Ñ‚Ğ¸Ğ½Ğ³ Ñ Ğ°Ğ²Ñ‚Ğ¾Ñ„Ğ¸ĞºÑĞ¾Ğ¼
uv run ruff check . --fix

# Type checking (mypy)
uv run mypy app/
```

### LangGraph Studio

LangGraph Studio â€” Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¾Ñ‚Ğ»Ğ°Ğ´Ñ‡Ğ¸Ğº Ğ³Ñ€Ğ°Ñ„Ğ¾Ğ²:

```powershell
# Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ² dev Ñ€ĞµĞ¶Ğ¸Ğ¼Ğµ (Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ Studio Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸)
uv run langgraph dev

# Studio Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ° Ğ¿Ğ¾ Ğ°Ğ´Ñ€ĞµÑÑƒ:
# http://localhost:2024/studio
```

### Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹

```powershell
# Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ runtime Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ÑŒ
uv add <package-name>

# Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ dev Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ÑŒ
uv add --dev <package-name>

# Ğ¡Ğ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ÑĞ»Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹
uv sync
```

---

## ğŸ“„ Ğ›Ğ¸Ñ†ĞµĞ½Ğ·Ğ¸Ñ

MIT License â€” ÑĞ¼. [LICENSE](LICENSE)

---

## ğŸ‘¥ ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ°

**Sber Agent Hackathon 2025**

---

<div align="center">
  <sub>Built with â¤ï¸ for Saint Petersburg</sub>
</div>
